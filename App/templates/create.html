<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Incluimos los archivos de Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
        <title>Create</title>
    </head>
    <body>
        <div class="container mt-4">
            <form method="post" id="create-form" action="http://127.0.0.1:8000/create/" class="needs-validation" novalidate>
                {% csrf_token %}
                <div class="form-group">
                    <label for="name">Nombre:</label>
                    <input type="text" name="name" id="name" class="form-control" required>
                    <div class="invalid-feedback">
                        Por favor ingresa un nombre válido.
                    </div>
                </div>
                <div class="form-group">
                    <label for="price">Precio:</label>
                    <input type="text" name="price" id="price" class="form-control" required>
                    <div class="invalid-feedback">
                        Por favor ingresa un precio válido.
                    </div>
                </div>
                <div class="form-group">
                    <label for="description">Descripción:</label>
                    <input type="text" name="description" id="description" class="form-control" required>
                    <div class="invalid-feedback">
                        Por favor ingresa una descripción válida.
                    </div>
                </div>
                <div class="form-group">
                    <label for="stock">Stock:</label>
                    <input type="text" name="stock" id="stock" class="form-control" required>
                    <div class="invalid-feedback">
                        Por favor ingresa un stock válido.
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Crear</button>
            </form>
        </div>
            <script>
                const form = document.getElementById("create-form");
                const nameInput = document.getElementById("name");
                const priceInput = document.getElementById("price");
                const descriptionInput = document.getElementById("description");
                const stockInput = document.getElementById("stock");
            
                form.addEventListener("submit", function(event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add("was-validated");
                    const name = nameInput.value;
                    const price = priceInput.value;
                    const description = descriptionInput.value;
                    const stock = stockInput.value;
                    form.action = `http://127.0.0.1:8000/create/${name}/${price}/${description}/${stock}`;
                });
            </script>
    </body>
 </html>